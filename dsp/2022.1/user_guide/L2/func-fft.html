


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

	<!-- OneTrust Cookies Consent Notice start for xilinx.github.io -->
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="37701bd4-e5c0-4ee3-9329-e7475d0b13a7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for xilinx.github.io -->
		<!-- Google Tag Manager -->
	<script type="text/plain" class="optanon-category-C0002">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-5RHQV7');</script>
	<!-- End Google Tag Manager -->
	
        <!-- Google Tag Manager -->
        <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5RHQV7" height="0" width="0" style="display:none;visibility:hidden" class="optanon-category-C0002"></iframe></noscript>
        <!-- End Google Tag Manager -->	

  
  
  
  

  
      <script type="text/javascript" src="../../_static/js/jquery.min.js"></script>
	  <script type="text/javascript" src="../../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../../_static/js/common-ui-all.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../../_static/js/CoveoJsSearch.Lazy.min.js"></script>
    <script type="text/javascript" src="../../_static/js/linkid.js"></script>
    <script type="text/javascript" src="../../_static/js/Searchbox.min.js"></script>
    <script type="text/javascript" src="../../_static/js/header-footer.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/pro.min.css" media="all" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2.3. Matrix Multiply" href="func-matmul.html" />
    <link rel="prev" title="2.1. Filters" href="func-fir-filters.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
 <div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">

    
    

    



<div class="xf-content-height">
    

<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
    
    <div class="header parbase aem-GridColumn aem-GridColumn--default--12"><noindex>
	<header data-component="header" class="site-header">
		<nav class="navbar navbar-default">
			<div class="container-fluid main-nav">
				<div class="row">
					<div class="navbar-column col-xs-4 col-sm-5">
						<ul class="nav navbar-nav hidden-xs">
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
								</li>
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
								</li>
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
								</li>
							</ul>
							
						<ul class="nav navbar-nav hidden-sm hidden-md hidden-lg">
							<li>
									<button data-target="#header-container-0" data-function="toggle">Solutions</button>
								</li>
							<li>
									<button data-target="#header-container-1" data-function="toggle">Products</button>
								</li>
							<li>
									<button data-target="#header-container-2" data-function="toggle">Company</button>
								</li>
							</ul>
							
						<div id="header-container-0" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							<div id="header-container-1" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							<div id="header-container-2" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							</div>
					<div class="logo-column col-xs-4 col-sm-2">
						<div class="logo">
							<a target="_blank" href="https://www.xilinx.com/">
								<img src="https://github.com/Xilinx/Image-Collateral/blob/main/xilinx-header-logo.svg?raw=true" title="Xilinx Inc"/>
							</a>
						</div>
					</div>

				</div>
			</div>
			</nav></header></noindex></div>
		
	
</div>

    
</div>
</div>

<div class="calloutBanner parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16"><div class="callout-banner">
    Xilinx is now a part of <a target="_blank" href="https://www.amd.com/en/corporate/xilinx-acquisition">AMD</a> |  <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Learn More</a>
</div>
</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Vitis DSP Library
          

          
          </a>

          
            
            
              <div class="version">
                2022.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

      
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
            
            
              
            
            
              <p class="caption"><span class="caption-text">Library Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html#license">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html#trademark-notice">Trademark Notice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release.html">Release Note</a></li>
</ul>
<p class="caption"><span class="caption-text">L1 PL DSP Library User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L1.html">1. 1-Dimensional(Line) SSR FFT L1 FPGA Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L1_2dfft.html">2. 2-Dimensional(Matrix) SSR FFT L1 FPGA Module</a></li>
</ul>
<p class="caption"><span class="caption-text">L2 DSP Library User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">1. Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="dsp-lib-func.html">2. DSP Library Functions</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="func-fir-filters.html">2.1. Filters</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">2.2. FFT/iFFT</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#entry-point">2.2.1. Entry Point</a></li>
<li class="toctree-l3"><a class="reference internal" href="#supported-types">2.2.2. Supported Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#template-parameters">2.2.3. Template Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#access-functions">2.2.4. Access functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ports">2.2.5. Ports</a></li>
<li class="toctree-l3"><a class="reference internal" href="#design-notes">2.2.6. Design Notes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dynamic-point-size">2.2.6.1. Dynamic Point Size</a></li>
<li class="toctree-l4"><a class="reference internal" href="#super-sample-rate-operation">2.2.6.2. Super Sample Rate Operation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scaling">2.2.6.3. Scaling</a></li>
<li class="toctree-l4"><a class="reference internal" href="#saturation">2.2.6.4. Saturation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#constraints">2.2.6.5. Constraints</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#code-example-including-constraints">2.2.7. Code Example including constraints</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="func-matmul.html">2.3. Matrix Multiply</a></li>
<li class="toctree-l2"><a class="reference internal" href="func-widget-apicast.html">2.4. Widget API Cast</a></li>
<li class="toctree-l2"><a class="reference internal" href="func-widget-real2comp.html">2.5. Widget Real to Complex</a></li>
<li class="toctree-l2"><a class="reference internal" href="func-dds.html">2.6. DDS / Mixer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="compiling-and-simulating.html">3. Compiling and Simulating Using the Makefile</a></li>
<li class="toctree-l1"><a class="reference internal" href="benchmark.html">4. Benchmark/QoR</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api-reference.html">API Reference Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst/class_xf_dsp_aie_fir_sr_asym_fir_sr_asym_graph.html">fir_sr_asym_graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst/class_xf_dsp_aie_fir_sr_sym_fir_sr_sym_graph.html">fir_sr_sym_graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst/class_xf_dsp_aie_fir_interpolate_asym_fir_interpolate_asym_graph.html">fir_interpolate_asym_graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst/class_xf_dsp_aie_fir_decimate_hb_fir_decimate_hb_graph.html">fir_decimate_hb_graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst/class_xf_dsp_aie_fir_interpolate_hb_fir_interpolate_hb_graph.html">fir_interpolate_hb_graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst/class_xf_dsp_aie_fir_decimate_asym_fir_decimate_asym_graph.html">fir_decimate_asym_graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst/class_xf_dsp_aie_fir_interpolate_fract_asym_fir_interpolate_fract_asym_graph.html">fir_interpolate_fract_asym_graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst/class_xf_dsp_aie_fir_resampler_fir_resampler_graph.html">fir_resampler_graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst/class_xf_dsp_aie_fir_decimate_sym_fir_decimate_sym_graph.html">fir_decimate_sym_graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst/class_xf_dsp_aie_blas_matrix_mult_matrix_mult_graph.html">matrix_mult_graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst/group_fft_graphs.html">FFT Graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst/class_xf_dsp_aie_widget_api_cast_widget_api_cast_graph.html">widget_api_cast_graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst/class_xf_dsp_aie_widget_real2complex_widget_real2complex_graph.html">widget_real2complex_graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst/class_xf_dsp_aie_mixer_dds_mixer_dds_mixer_graph.html">dds_mixer_graph</a></li>
</ul>

            
			
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="../../_sources/user_guide/L2/func-fft.rst.txt"
						rel="nofollow">Show Source</a></li>
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Vitis DSP Library</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="dsp-lib-func.html">2. DSP Library Functions</a> &raquo;</li>
        
      <li>2.2. FFT/iFFT</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/user_guide/L2/func-fft.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="fft-ifft">
<span id="id1"></span><h1>2.2. FFT/iFFT<a class="headerlink" href="#fft-ifft" title="Permalink to this headline">¶</a></h1>
<p>The DSPLib contains one FFT/iFFT solution. This is a single channel, decimation in time (DIT) implementation. It has configurable point size, data type, forward/reverse direction, scaling (as a shift), cascade length, static/dynamic point size, window size, interface api (stream/window) and parallelism factor.
Table 6 lists the template parameters used to configure the top level graph of the fft_ifft_dit_1ch_graph class.</p>
<div class="section" id="entry-point">
<h2>2.2.1. Entry Point<a class="headerlink" href="#entry-point" title="Permalink to this headline">¶</a></h2>
<p>The graph entry point is the following:</p>
<pre class="highlight literal-block">
<span></span><span class="n">xf</span><span class="p">::</span><span class="n">dsp</span><span class="p">::</span><span class="n">aie</span><span class="p">::</span><span class="n">fft</span><span class="p">::</span><span class="n">fft_ifft_dit_1ch_graph</span>
</pre>
</div>
<div class="section" id="supported-types">
<h2>2.2.2. Supported Types<a class="headerlink" href="#supported-types" title="Permalink to this headline">¶</a></h2>
<p>The data type to the FFT is controlled by the template parameter TT_DATA. This may take one of 3 choices: cint16, cint32 or cfloat. This selection applies to both input data and output data.
The template parameter TT_TWIDDLE may take one of two values, cint16 or cfloat, but currently this value is forced by the choice of TT_DATA, so TT_TWIDDLE must be set to cint16 for TT_DATA = cint16 or cint32 and TT_TWIDDLE must be set to cfloat when TT_DATA=cfloat.</p>
</div>
<div class="section" id="template-parameters">
<h2>2.2.3. Template Parameters<a class="headerlink" href="#template-parameters" title="Permalink to this headline">¶</a></h2>
<p>To see details on the template parameters for the FFT, see <a class="reference internal" href="api-reference.html#api-reference"><span class="std std-ref">API Reference Overview</span></a>.</p>
</div>
<div class="section" id="access-functions">
<h2>2.2.4. Access functions<a class="headerlink" href="#access-functions" title="Permalink to this headline">¶</a></h2>
<p>To see details on the access functions for the FFT, see <a class="reference internal" href="api-reference.html#api-reference"><span class="std std-ref">API Reference Overview</span></a>.</p>
</div>
<div class="section" id="ports">
<h2>2.2.5. Ports<a class="headerlink" href="#ports" title="Permalink to this headline">¶</a></h2>
<p>To see details on the ports for the FFT, see <a class="reference internal" href="api-reference.html#api-reference"><span class="std std-ref">API Reference Overview</span></a>. Note that the number and type of ports are determined by the configuration of template parameters.</p>
</div>
<div class="section" id="design-notes">
<h2>2.2.6. Design Notes<a class="headerlink" href="#design-notes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dynamic-point-size">
<h3>2.2.6.1. Dynamic Point Size<a class="headerlink" href="#dynamic-point-size" title="Permalink to this headline">¶</a></h3>
<p>The FFT supports dynamic (run-time controlled) point sizes. This feature is available when the template parameter TP_DYN_PT_SIZE is set. When set to 0 (static point size) all data will be expected in frames of TP_POINT_SIZE data samples, though multiple frames may be input together using TP_WINDOW_VSIZE. When set to 1 (dynamic point size) each _window_ must be preceeded by a 256bit header to describe the run-time parameters of that window. Note that TP_WINDOW_VSIZE described the number of samples in a window so does not include this header. The format of the header is described in Table 5. When TP_DYN_PT_SIZE =1 TP_POINT_SIZE describes the maximum point size which may be input.</p>
<table border="1" class="docutils align-center" id="id2">
<caption><span class="caption-text">Table 5 : Header Format</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="23%" />
<col width="16%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field name</th>
<th class="head">Location (TT_DATA
sample)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Direction</td>
<td>0 (real part)</td>
<td>0 (inverse FFT) 1 (forward FFT)</td>
</tr>
<tr class="row-odd"><td>Point size (radix2 stages)</td>
<td>1 (real part)</td>
<td>Point size described as a power of 2. E.g. 5 described a   point size of 32.</td>
</tr>
<tr class="row-even"><td>Reserved</td>
<td>2</td>
<td>reserved</td>
</tr>
<tr class="row-odd"><td>Status (output only)</td>
<td>3 (real part)</td>
<td>0 = legal point size, 1 = illegal point size</td>
</tr>
</tbody>
</table>
<p>The locations are set to suit TT_DATA type. That is, for TT_DATA=cint16, direction is described in the first cint16 (real part) of the 256 bit header and point size is described in the real part of the second cint16 value.
Similarly, for TT_DATA=cint32, the real part of the first cint32 value in the header holds the direction field and the second cint32 value’s real part holds the Point size (radix2) field.</p>
<p>Note that for TT_DATA=cfloat, the values in the header are expected as cfloat and are value-cast (not reinterpret-cast) to integers internally. The output window also has a header. This is copied from the input header except for the status field, which is inserted. The status field is ignored on input. If an illegal point size is entered, the output header will have this field set to a non-zero value and the remainder of the output window is undefined.</p>
</div>
<div class="section" id="super-sample-rate-operation">
<h3>2.2.6.2. Super Sample Rate Operation<a class="headerlink" href="#super-sample-rate-operation" title="Permalink to this headline">¶</a></h3>
<p>While the term Super Sample Rate strictly means the processing of more than one sample per clock cycle, in the AIE context it is taken to mean an implementation using parallel kernels to improve performance at the expense of additional resource use.
In the FFT, SSR operation is controlled by the template parameter TP_PARALLEL_POWER. This parameter is intended to improve performance and also allow support of point sizes beyond the limitations of a single tile. Diagram <a class="reference internal" href="#figure-2"><span class="std std-ref">Figure 2: Applying Design Constraints</span></a> shows an example graph with TP_PARALLEL_POWER set to 2. This results in 4 subframe processors in parallel each performing an FFT of N/2^TP_PARALLEL_POWER point size. These subframe outputs are then combined by TP_PARALLEL_POWER stages of radix2  to create the final result. The order of samples is described in the note for TP_API above.</p>
<p>The parameter TP_PARALLEL_POWER allows a trade of performance for resource use in the form of tiles used. The following table shows the tile utilization versus TP_PARALLEL_POWER assuming that all widgets co-habit with FFT processing kernels.</p>
<table border="1" class="docutils align-center" id="id3">
<caption><span class="caption-text">Table 6 : FFT Resource Usage</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="51%" />
<col width="49%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">TP_PARALLEL_POWER</th>
<th class="head">Number of tiles</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>4</td>
</tr>
<tr class="row-even"><td>2</td>
<td>12</td>
</tr>
<tr class="row-odd"><td>3</td>
<td>32</td>
</tr>
<tr class="row-even"><td>4</td>
<td>80</td>
</tr>
</tbody>
</table>
<div class="section" id="super-sample-rate-sample-to-port-mapping">
<h4>2.2.6.2.1. Super Sample Rate Sample to Port Mapping<a class="headerlink" href="#super-sample-rate-sample-to-port-mapping" title="Permalink to this headline">¶</a></h4>
<p>When Super Sample Rate operation is used, data is input and output using multiple ports. These multiple ports on input or output act as one channel. The mapping of samples to ports is that each successive sample should be passed to a different port in a round-robin fashion, e.g. with TP_SSR set to 3, sample 0 should be sent to input port 0, sample 1 to input port 1, sample 2 to input port 2, sample 3 to input port 0 and so on.</p>
</div>
</div>
<div class="section" id="scaling">
<h3>2.2.6.3. Scaling<a class="headerlink" href="#scaling" title="Permalink to this headline">¶</a></h3>
<p>Scaling in the FFT is controlled by the TP_SHIFT parameter which describes how many binary places by which to shift the result to the right, i.e. only power-of-2 scaling values are supported. The FFT implementation does not implement the 1/N scaling of an IFFT directly, but this may be configured via TP_SHIFT.
Internal to the FFT, for cint16 and cint32 data, an data type of cint32 is used for temporary value. After each rank, the values are scaled by only enough to normalize the bit growth caused by the twiddle multiplication (i.e., 15 bits), but there is no compensation for the bit growth of the adder in the butterfly operation.
No scaling is applied at any point when the data type is cfloat. Setting TP_SHIFT to any value other than 0 when TT_DATA is cfloat will result in an error.
In the case of TP_PARALLEL_POWER &gt; 0 for cint16, the streams carrying data between subframe processors and the combiner stages carry cint16 data so as to allow for high performance. In this case, the scaling value applied to each subframe processor is (TP_SHIFT-TP_PARALLEL_POWER) (if positive and 0 if not). Each combiner stage will have a shift of 1 is applied, to compensate for the bit growth of 1 in the stage’s butterfly, if there is adequate TP_SHIFT to allow for this, or 0 if there is not.
For example, with an FFT configured to be POINT_SIZE=1024, DATA_TYPE=cint16, PARALLEL_POWER=2 and TP_SHIFT=10, there will be 4 subframe processors and 2 further ranks of 4 combiners. The 4 subframe processors will all have a local TP_SHIFT of 10-2 = 8 applied and each of the combiners will have a local TP_SHIFT of 1 applied.
This scheme is designed to preserve as much accuracy as possible without compromising performance.
If better accuracy or noise performance is required, this may be achieved at the expense of throughput by using TT_DATA=cint32.</p>
</div>
<div class="section" id="saturation">
<h3>2.2.6.4. Saturation<a class="headerlink" href="#saturation" title="Permalink to this headline">¶</a></h3>
<p>Distortion caused by saturation will be possible for certain configurations of the FFT. For instance, with DATA_TYPE=cint32, it is possible for the sample values within the FFT to grow beyond the range of int32 values. In the final stage when TP_SHIFT is applied, saturation is also applied. Similarly, if the FFT is configured for DATA_TYPE=cint16, but insufficient scaling (TP_SHIFT) is applied, then sample values may exceed the range of int16 and so these too will be saturated in the final stage.
Note that for cases with TP_PARALLEL_POWER&gt;1, saturation is applied at the end of each subframe processor and also in each combiner, so for data sets which cause saturation even in the subframe processor, the output will likely not match the output of an FFT model.
For DATA_TYPE=cfloat, the FFT performs no scaling, nor saturation. Any saturation effects will be due to the atomic float operations returning positive infinity, negative infinity or NaN.</p>
</div>
<div class="section" id="constraints">
<h3>2.2.6.5. Constraints<a class="headerlink" href="#constraints" title="Permalink to this headline">¶</a></h3>
<p>The FFT design has large memory requirements for data buffering and twiddle storage. Constraints may be necessary to fit a design or to achieve high performance, such as ensuring FFT kernels do not share tiles with other FFT kernels or user kernels. To apply constraints you must know the instance names of the internal graph hierarchy of the FFT. See <a class="reference internal" href="#figure-2"><span class="std std-ref">Figure 2: Applying Design Constraints</span></a> below.</p>
<div class="figure" id="id4">
<span id="figure-2"></span><img alt="../../_images/X25897.png" src="../../_images/X25897.png" />
<p class="caption"><span class="caption-text"><em>Figure 2:</em> <strong>Applying Design Constraints</strong></span></p>
</div>
<p>The FFT class is implemented as a recursion of the top level to implement the parallelism. The instance names of each pair of subgraphs in the recursion are FFTsubframe(0) and FFTsubframe(1). In the final level of recursion, the FFT graph will contain an instance of either FFTwinproc (for TP_API = 0) or FFTstrproc (when TP_API=1). Within this level there is an array of kernels called m_fftKernels which will have TP_CASC_LEN members.</p>
<p>The stream to window conversion kernels on input and output to the fft subframes are at the same level as m_fftKernels and are called m_inWidgetKernel and m_outWidgetKernel respectively.
Each level of recursion will also contain an array of radix2 combiner kernels and associated stream to window conversion kernels. These are seen as a column of kernels in the above figure.
Their instance names are m_r2Comb[] for the radix2 combiners and m_combInKernel[] and m_combOutKernel[] for the input and output widget kernels respectively.</p>
<p>Examples of constraints: For TP_PARALLEL_POWER=2, to set the runtime ratio of the 3rd of 4 subframe FFTs, the constraint could look like this:</p>
<pre class="highlight literal-block">
<span></span><span class="n">runtime</span><span class="o">&lt;</span><span class="n">ratio</span><span class="o">&gt;</span><span class="p">(</span><span class="n">myFFT</span><span class="o">.</span><span class="n">FFTsubframe</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">FFTsubframe</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">FFTstrproc</span><span class="o">.</span><span class="n">m_kernels</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">=</span> <span class="mf">0.9</span><span class="p">;</span> <span class="o">//</span><span class="n">where</span> <span class="n">myFFT</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">instance</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">FFT</span> <span class="ow">in</span> <span class="n">your</span> <span class="n">design</span><span class="o">.</span>
</pre>
<p>For the same example, to ensure that the second radix2 combiner kernel in the first column of combiners and its input widget do not share a tile, the constraint could look like this:</p>
<pre class="highlight literal-block">
<span></span><span class="n">not_equal</span><span class="p">(</span><span class="n">location</span><span class="o">&lt;</span><span class="n">kernel</span><span class="o">&gt;</span><span class="p">(</span><span class="n">myFFT</span><span class="o">.</span><span class="n">FFTsubframe</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">m_combInKernel</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="n">location</span><span class="o">&lt;</span><span class="n">kernel</span><span class="o">&gt;</span><span class="p">(</span> <span class="n">myFFT</span><span class="o">.</span><span class="n">FFTsubframe</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">m_r2Comb</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
</pre>
<p>For large point sizes, e.g. 65536, the design is large, requiring 80 tiles. With such a large design, the Vitis AIE mapper may time out due to there being too many possibilities of placement, so placement constraints are recommended to reduce the solution space and so reduce the time spent by the Vitis AIE mapper tool to find a solution. Example constraints have been provided in the test.hpp file for the fft_ifft_dit_1ch, i.e in: <cite>L2/tests/aie/fft_ifft_dit_1ch/test.hpp</cite>.</p>
</div>
</div>
<div class="section" id="code-example-including-constraints">
<h2>2.2.7. Code Example including constraints<a class="headerlink" href="#code-example-including-constraints" title="Permalink to this headline">¶</a></h2>
<p>The following code block shows example code of how to include an instance of the fft_ifft_dit_1ch graph in a super-graph and also how constraints may be applied to kernels within the FFT graph. Note that in this example not all kernels within the fft_ifft_dit_1ch graph are subject to location constraints. It is sufficient for the mapper to find a solution in this case by constraining only the r2comb kernels.</p>
<pre class="highlight literal-block">
<span></span><span class="c1">#define LOC_XBASE 0</span>
<span class="c1">#define LOC_YBASE 0</span>
<span class="c1">#define DATA_TYPE cint16</span>
<span class="c1">#define TWIDDLE_TYPE cint16</span>
<span class="c1">#define POINT_SIZE 65536</span>
<span class="c1">#define FFT_NIFFT 1</span>
<span class="c1">#define SHIFT 17</span>
<span class="c1">#define CASC_LEN 1</span>
<span class="c1">#define DYN_PT_SIZE 0</span>
<span class="c1">#define WINDOW_VSIZE 65536</span>
<span class="c1">#define API_IO 1</span>
<span class="c1">#define PARALLEL_POWER 4</span>
<span class="c1">#include &lt;adf.h&gt;</span>
<span class="c1">#include &quot;fft_ifft_dit_1ch_graph.hpp&quot;</span>

<span class="k">class</span> <span class="nc">myFft</span> <span class="p">:</span> <span class="n">public</span> <span class="n">adf</span><span class="p">::</span><span class="n">graph</span>
<span class="p">{</span>
<span class="n">public</span><span class="p">:</span>
  <span class="n">static</span> <span class="n">constexpr</span> <span class="nb">int</span> <span class="n">kParFactor</span> <span class="o">=</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">PARALLEL_POWER</span><span class="p">;</span>
  <span class="n">adf</span><span class="p">::</span><span class="n">port</span><span class="o">&lt;</span><span class="nb">input</span><span class="o">&gt;</span> <span class="ow">in</span><span class="p">[</span><span class="n">kParFactor</span><span class="p">];</span>
  <span class="n">adf</span><span class="p">::</span><span class="n">port</span><span class="o">&lt;</span><span class="n">output</span><span class="o">&gt;</span> <span class="n">out</span><span class="p">[</span><span class="n">kParFactor</span><span class="p">];</span>
  <span class="n">xf</span><span class="p">::</span><span class="n">dsp</span><span class="p">::</span><span class="n">aie</span><span class="p">::</span><span class="n">fft</span><span class="p">::</span><span class="n">dit_1ch</span><span class="p">::</span><span class="n">fft_ifft_dit_1ch_graph</span><span class="o">&lt;</span><span class="n">DATA_TYPE</span><span class="p">,</span> <span class="n">TWIDDLE_TYPE</span><span class="p">,</span> <span class="n">POINT_SIZE</span><span class="p">,</span> <span class="n">FFT_NIFFT</span><span class="p">,</span> <span class="n">SHIFT</span><span class="p">,</span> <span class="n">CASC_LEN</span><span class="p">,</span>
                                                     <span class="n">DYN_PT_SIZE</span><span class="p">,</span> <span class="n">WINDOW_VSIZE</span><span class="p">,</span> <span class="n">API_IO</span><span class="p">,</span> <span class="n">PARALLEL_POWER</span><span class="o">&gt;</span>
                                                     <span class="n">fftGraph</span><span class="p">;</span>
  <span class="n">myFft</span><span class="p">()</span>
  <span class="p">{</span>
    <span class="o">//</span><span class="n">make</span> <span class="n">connections</span>
    <span class="k">for</span> <span class="p">(</span><span class="nb">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span> <span class="n">kParFactor</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">connect</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="ow">in</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">fftGraph</span><span class="o">.</span><span class="ow">in</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
      <span class="n">connect</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">fftGraph</span><span class="o">.</span><span class="n">out</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">out</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="p">}</span>
    <span class="o">//</span><span class="n">constraint</span> <span class="n">location</span> <span class="n">to</span> <span class="n">allow</span> <span class="n">mapper</span> <span class="n">to</span> <span class="n">complete</span> <span class="n">before</span> <span class="n">timeout</span>
    <span class="c1">#if (POINT_SIZE==65536)</span>
    <span class="k">for</span> <span class="p">(</span><span class="nb">int</span> <span class="n">lane</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">lane</span><span class="o">&lt;</span><span class="n">kParFactor</span><span class="p">;</span> <span class="n">lane</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">location</span><span class="o">&lt;</span><span class="n">kernel</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fftGraph</span><span class="o">.</span><span class="n">m_r2Comb</span><span class="p">[</span><span class="n">lane</span><span class="p">])</span> <span class="o">=</span> <span class="n">tile</span><span class="p">(</span><span class="n">LOC_XBASE</span> <span class="o">+</span> <span class="n">lane</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="n">LOC_YBASE</span> <span class="o">+</span> <span class="n">CASC_LEN</span> <span class="o">+</span> <span class="mi">4</span><span class="p">);</span>
      <span class="p">}</span>

      <span class="k">for</span> <span class="p">(</span><span class="nb">int</span> <span class="n">lane</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">lane</span><span class="o">&lt;</span><span class="n">kParFactor</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span> <span class="n">lane</span><span class="o">++</span><span class="p">)</span>
      <span class="p">{</span>
              <span class="n">location</span><span class="o">&lt;</span><span class="n">kernel</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fftGraph</span><span class="o">.</span><span class="n">FFTsubframe0</span><span class="o">.</span><span class="n">m_r2Comb</span><span class="p">[</span><span class="n">lane</span><span class="p">])</span> <span class="o">=</span>
                  <span class="n">tile</span><span class="p">(</span><span class="n">LOC_XBASE</span> <span class="o">+</span> <span class="n">lane</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="n">LOC_YBASE</span> <span class="o">+</span> <span class="n">CASC_LEN</span> <span class="o">+</span> <span class="mi">3</span><span class="p">);</span>
              <span class="n">location</span><span class="o">&lt;</span><span class="n">kernel</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fftGraph</span><span class="o">.</span><span class="n">FFTsubframe1</span><span class="o">.</span><span class="n">m_r2Comb</span><span class="p">[</span><span class="n">lane</span><span class="p">])</span> <span class="o">=</span>
                  <span class="n">tile</span><span class="p">(</span><span class="n">LOC_XBASE</span> <span class="o">+</span> <span class="n">lane</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">16</span><span class="p">,</span> <span class="n">LOC_YBASE</span> <span class="o">+</span> <span class="n">CASC_LEN</span> <span class="o">+</span> <span class="mi">3</span><span class="p">);</span>
      <span class="p">}</span>

      <span class="k">for</span> <span class="p">(</span><span class="nb">int</span> <span class="n">lane</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">lane</span><span class="o">&lt;</span><span class="n">kParFactor</span><span class="o">/</span><span class="mi">4</span><span class="p">;</span> <span class="n">lane</span><span class="o">++</span><span class="p">)</span>
      <span class="p">{</span>
              <span class="n">location</span><span class="o">&lt;</span><span class="n">kernel</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fftGraph</span><span class="o">.</span><span class="n">FFTsubframe0</span><span class="o">.</span><span class="n">FFTsubframe0</span><span class="o">.</span><span class="n">m_r2Comb</span><span class="p">[</span><span class="n">lane</span><span class="p">])</span> <span class="o">=</span>
                  <span class="n">tile</span><span class="p">(</span><span class="n">LOC_XBASE</span> <span class="o">+</span> <span class="n">lane</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="n">LOC_YBASE</span> <span class="o">+</span> <span class="n">CASC_LEN</span> <span class="o">+</span> <span class="mi">2</span><span class="p">);</span>
              <span class="n">location</span><span class="o">&lt;</span><span class="n">kernel</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fftGraph</span><span class="o">.</span><span class="n">FFTsubframe0</span><span class="o">.</span><span class="n">FFTsubframe1</span><span class="o">.</span><span class="n">m_r2Comb</span><span class="p">[</span><span class="n">lane</span><span class="p">])</span> <span class="o">=</span>
                  <span class="n">tile</span><span class="p">(</span><span class="n">LOC_XBASE</span> <span class="o">+</span> <span class="n">lane</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">8</span><span class="p">,</span> <span class="n">LOC_YBASE</span> <span class="o">+</span> <span class="n">CASC_LEN</span> <span class="o">+</span> <span class="mi">2</span><span class="p">);</span>
              <span class="n">location</span><span class="o">&lt;</span><span class="n">kernel</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fftGraph</span><span class="o">.</span><span class="n">FFTsubframe1</span><span class="o">.</span><span class="n">FFTsubframe0</span><span class="o">.</span><span class="n">m_r2Comb</span><span class="p">[</span><span class="n">lane</span><span class="p">])</span> <span class="o">=</span>
                  <span class="n">tile</span><span class="p">(</span><span class="n">LOC_XBASE</span> <span class="o">+</span> <span class="n">lane</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">16</span><span class="p">,</span> <span class="n">LOC_YBASE</span> <span class="o">+</span> <span class="n">CASC_LEN</span> <span class="o">+</span> <span class="mi">2</span><span class="p">);</span>
              <span class="n">location</span><span class="o">&lt;</span><span class="n">kernel</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fftGraph</span><span class="o">.</span><span class="n">FFTsubframe1</span><span class="o">.</span><span class="n">FFTsubframe1</span><span class="o">.</span><span class="n">m_r2Comb</span><span class="p">[</span><span class="n">lane</span><span class="p">])</span> <span class="o">=</span>
                  <span class="n">tile</span><span class="p">(</span><span class="n">LOC_XBASE</span> <span class="o">+</span> <span class="n">lane</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">24</span><span class="p">,</span> <span class="n">LOC_YBASE</span> <span class="o">+</span> <span class="n">CASC_LEN</span> <span class="o">+</span> <span class="mi">2</span><span class="p">);</span>
          <span class="p">}</span>
      <span class="p">}</span>

      <span class="k">for</span> <span class="p">(</span><span class="nb">int</span> <span class="n">lane</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">lane</span><span class="o">&lt;</span><span class="n">kParFactor</span><span class="o">/</span><span class="mi">8</span><span class="p">;</span> <span class="n">lane</span><span class="o">++</span><span class="p">)</span>
      <span class="p">{</span>
              <span class="n">location</span><span class="o">&lt;</span><span class="n">kernel</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fftGraph</span><span class="o">.</span><span class="n">FFTsubframe0</span><span class="o">.</span><span class="n">FFTsubframe0</span><span class="o">.</span><span class="n">FFTsubframe0</span><span class="o">.</span><span class="n">m_r2Comb</span><span class="p">[</span><span class="n">lane</span><span class="p">])</span> <span class="o">=</span>
                  <span class="n">tile</span><span class="p">(</span><span class="n">LOC_XBASE</span> <span class="o">+</span> <span class="n">lane</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="n">LOC_YBASE</span> <span class="o">+</span> <span class="n">CASC_LEN</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
              <span class="n">location</span><span class="o">&lt;</span><span class="n">kernel</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fftGraph</span><span class="o">.</span><span class="n">FFTsubframe0</span><span class="o">.</span><span class="n">FFTsubframe0</span><span class="o">.</span><span class="n">FFTsubframe1</span><span class="o">.</span><span class="n">m_r2Comb</span><span class="p">[</span><span class="n">lane</span><span class="p">])</span> <span class="o">=</span>
                  <span class="n">tile</span><span class="p">(</span><span class="n">LOC_XBASE</span> <span class="o">+</span> <span class="n">lane</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">4</span><span class="p">,</span> <span class="n">LOC_YBASE</span> <span class="o">+</span> <span class="n">CASC_LEN</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
              <span class="n">location</span><span class="o">&lt;</span><span class="n">kernel</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fftGraph</span><span class="o">.</span><span class="n">FFTsubframe0</span><span class="o">.</span><span class="n">FFTsubframe1</span><span class="o">.</span><span class="n">FFTsubframe0</span><span class="o">.</span><span class="n">m_r2Comb</span><span class="p">[</span><span class="n">lane</span><span class="p">])</span> <span class="o">=</span>
                  <span class="n">tile</span><span class="p">(</span><span class="n">LOC_XBASE</span> <span class="o">+</span> <span class="n">lane</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">8</span><span class="p">,</span> <span class="n">LOC_YBASE</span> <span class="o">+</span> <span class="n">CASC_LEN</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
              <span class="n">location</span><span class="o">&lt;</span><span class="n">kernel</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fftGraph</span><span class="o">.</span><span class="n">FFTsubframe0</span><span class="o">.</span><span class="n">FFTsubframe1</span><span class="o">.</span><span class="n">FFTsubframe1</span><span class="o">.</span><span class="n">m_r2Comb</span><span class="p">[</span><span class="n">lane</span><span class="p">])</span> <span class="o">=</span>
                  <span class="n">tile</span><span class="p">(</span><span class="n">LOC_XBASE</span> <span class="o">+</span> <span class="n">lane</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">12</span><span class="p">,</span> <span class="n">LOC_YBASE</span> <span class="o">+</span> <span class="n">CASC_LEN</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
              <span class="n">location</span><span class="o">&lt;</span><span class="n">kernel</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fftGraph</span><span class="o">.</span><span class="n">FFTsubframe1</span><span class="o">.</span><span class="n">FFTsubframe0</span><span class="o">.</span><span class="n">FFTsubframe0</span><span class="o">.</span><span class="n">m_r2Comb</span><span class="p">[</span><span class="n">lane</span><span class="p">])</span> <span class="o">=</span>
                  <span class="n">tile</span><span class="p">(</span><span class="n">LOC_XBASE</span> <span class="o">+</span> <span class="n">lane</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">16</span><span class="p">,</span> <span class="n">LOC_YBASE</span> <span class="o">+</span> <span class="n">CASC_LEN</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
              <span class="n">location</span><span class="o">&lt;</span><span class="n">kernel</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fftGraph</span><span class="o">.</span><span class="n">FFTsubframe1</span><span class="o">.</span><span class="n">FFTsubframe0</span><span class="o">.</span><span class="n">FFTsubframe1</span><span class="o">.</span><span class="n">m_r2Comb</span><span class="p">[</span><span class="n">lane</span><span class="p">])</span> <span class="o">=</span>
                  <span class="n">tile</span><span class="p">(</span><span class="n">LOC_XBASE</span> <span class="o">+</span> <span class="n">lane</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">20</span><span class="p">,</span> <span class="n">LOC_YBASE</span> <span class="o">+</span> <span class="n">CASC_LEN</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
              <span class="n">location</span><span class="o">&lt;</span><span class="n">kernel</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fftGraph</span><span class="o">.</span><span class="n">FFTsubframe1</span><span class="o">.</span><span class="n">FFTsubframe1</span><span class="o">.</span><span class="n">FFTsubframe0</span><span class="o">.</span><span class="n">m_r2Comb</span><span class="p">[</span><span class="n">lane</span><span class="p">])</span> <span class="o">=</span>
                  <span class="n">tile</span><span class="p">(</span><span class="n">LOC_XBASE</span> <span class="o">+</span> <span class="n">lane</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">24</span><span class="p">,</span> <span class="n">LOC_YBASE</span> <span class="o">+</span> <span class="n">CASC_LEN</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
              <span class="n">location</span><span class="o">&lt;</span><span class="n">kernel</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fftGraph</span><span class="o">.</span><span class="n">FFTsubframe1</span><span class="o">.</span><span class="n">FFTsubframe1</span><span class="o">.</span><span class="n">FFTsubframe1</span><span class="o">.</span><span class="n">m_r2Comb</span><span class="p">[</span><span class="n">lane</span><span class="p">])</span> <span class="o">=</span>
                  <span class="n">tile</span><span class="p">(</span><span class="n">LOC_XBASE</span> <span class="o">+</span> <span class="n">lane</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">28</span><span class="p">,</span> <span class="n">LOC_YBASE</span> <span class="o">+</span> <span class="n">CASC_LEN</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
      <span class="p">}</span>

      <span class="c1">#endif //(POINT_SIZE == 65536)</span>
    <span class="p">}</span>
  <span class="p">};</span><span class="o">//</span><span class="n">end</span> <span class="n">of</span> <span class="k">class</span>
</pre>
</div>
</div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>


	  <!-- Sphinx Page Footer block -->
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="func-matmul.html" class="btn btn-neutral float-right" title="2.3. Matrix Multiply" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="func-fir-filters.html" class="btn btn-neutral float-left" title="2.1. Filters" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">

    </p>
	<br>
  </div>
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>


  
  
    
  



  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
                  <!-- make footer fixed - NileshP -->
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
                  <!-- make footer fixed NileshP-->
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
														
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<div class="lang-select dropup hidden-md hidden-lg">
		<button data-toggle="dropdown">
			<span class="fas fa-globe" aria-hidden="true"></span>
			<span>
				
					English
				</span>
		<span class="far fa-angle-down" aria-hidden="true"></span>
	</button>
	<ul class="dropdown-menu">
		<li>
				<a target="_blank" href="https://japan.xilinx.com/" target="_self">
					日本語
				</a>
			</li>
		<li>
				<a target="_blank" href="https://china.xilinx.com/" target="_self">
					简体中文
				</a>
			</li>
		</ul>
	</div>
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a target="_blank" href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
																	<div class="lang-select dropup hidden-xs hidden-sm">
	<button data-toggle="dropdown">
		<span class="fas fa-globe" aria-hidden="true"></span>
		<span>
			
				English
			</span>
		<span class="far fa-angle-down" aria-hidden="true"></span>
	</button>
	<ul class="dropdown-menu">
		<li>
				<a target="_blank" href="https://japan.xilinx.com/" target="_self">
					日本語
				</a>
			</li>
		<li>
				<a target="_blank" href="https://china.xilinx.com/" target="_self">
					简体中文
				</a>
			</li>
		</ul>
	</div>
															</div>
														</div>
														<div class="col-md-pull-5 col-lg-pull-5 col-md-5 col-lg-5">
															<span class="copyright">©2022 Advanced Micro Devices, Inc</span>
														</div>

													</div>
													                    <div class="movethisrowtoleft row">
                        <div class="col-xs-24">
                            <ul class="sub-menu">
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a></li>
                                <li><a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a></li>
                                <li><a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a></li>
								<li><a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a></li>
                                <li><a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></li>
                            </ul>
                        </div>
                    </div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
<div class="backToTop parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16"><noindex>
    <span data-component="backToTopButton" class="backToTopButton loaded">
        <ul>
            <li>
                <a href="https://www.author.xilinx.com/xx/rebrand/amd/en-amd-xilinx-header-footer.html#top" class="btn top">
                    <span class="fas fa-angle-up" aria-hidden="true"></span>
                </a>
            </li>
        </ul>
    </span>
</noindex></div>
			</div>
		</div>


		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}

			underscoreSetup();
		</script>
	</body>
</html>